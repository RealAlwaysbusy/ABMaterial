var jsl="undefined"==typeof jsl?{}:jsl;jsl.format=function(){function a(a,b){return Array(b+1).join(a)}return{formatJson:function(b){var c=0,d=0,e="",f=0,g=!1,h=null;for(c=0,d=b.length;c<d;c+=1)switch(h=b.charAt(c),h){case"{":case"[":g?e+=h:(e+=h+"\n"+a("    ",f+1),f+=1);break;case"}":case"]":g?e+=h:(f-=1,e+="\n"+a("    ",f)+h);break;case",":e+=g?h:",\n"+a("    ",f);break;case":":e+=g?h:": ";break;case" ":case"\n":case"\t":g&&(e+=h);break;case"\"":0<c&&"\\"!==b.charAt(c-1)&&(g=!g),e+=h;break;default:e+=h;}return e}}}();var jsl="undefined"==typeof jsl?{}:jsl;jsl.parser=function(){var a=!1,f={},b=function(){var b={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONObject:13,EOF:14,JSONArray:15,JSONValue:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[12,2],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[13,2],[13,3],[20,3],[19,1],[19,3],[15,2],[15,3],[25,1],[25,3]],performAction:function(g,a,b,c,d,e){var f=e.length-1;switch(d){case 1:this.$=g;break;case 2:this.$=+g;break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=e[f-1];case 7:return this.$=e[f-1];case 8:this.$=e[f];break;case 9:this.$=e[f];break;case 10:this.$=e[f];break;case 11:this.$=e[f];break;case 12:this.$=e[f];break;case 13:this.$=e[f];break;case 14:this.$={};break;case 15:this.$=e[f-1];break;case 16:this.$=[e[f-2],e[f]];break;case 17:this.$={},this.$[e[f][0]]=e[f][1];break;case 18:this.$=e[f-2],e[f-2][e[f][0]]=e[f][1];break;case 19:this.$=[];break;case 20:this.$=e[f-1];break;case 21:this.$=[e[f]];break;case 22:this.$=e[f-2],e[f-2].push(e[f]);}},table:[{12:1,13:2,15:3,17:[1,4],23:[1,5]},{1:[3]},{14:[1,6]},{14:[1,7]},{3:11,4:[1,12],18:[1,8],19:9,20:10},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:15,17:[1,4],23:[1,5],24:[1,13],25:14},{1:[2,6]},{1:[2,7]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{18:[1,26],22:[1,27]},{18:[2,17],22:[2,17]},{21:[1,28]},{18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{22:[1,30],24:[1,29]},{22:[2,21],24:[2,21]},{18:[2,8],22:[2,8],24:[2,8]},{18:[2,9],22:[2,9],24:[2,9]},{18:[2,10],22:[2,10],24:[2,10]},{18:[2,11],22:[2,11],24:[2,11]},{18:[2,12],22:[2,12],24:[2,12]},{18:[2,13],22:[2,13],24:[2,13]},{18:[2,3],22:[2,3],24:[2,3]},{18:[2,4],22:[2,4],24:[2,4]},{18:[2,5],22:[2,5],24:[2,5]},{18:[2,2],22:[2,2],24:[2,2]},{14:[2,15],18:[2,15],22:[2,15],24:[2,15]},{3:11,4:[1,12],20:31},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:32,17:[1,4],23:[1,5]},{14:[2,20],18:[2,20],22:[2,20],24:[2,20]},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:33,17:[1,4],23:[1,5]},{18:[2,18],22:[2,18]},{18:[2,16],22:[2,16]},{22:[2,22],24:[2,22]}],defaultActions:{6:[2,6],7:[2,7]},parseError:function(b){throw new Error(b)},parse:function(k){function a(){var b;return b=n.lexer.lex()||1,"number"!=typeof b&&(b=n.symbols_[b]||b),b}function l(c){b.length-=2*c,o.length-=c,t.length-=c}var n=this,b=[0],o=[null],t=[],B=this.table,f="",C=0,D=0,E=0;this.lexer.setInput(k),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var F=this.lexer.yylloc;t.push(F),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var G,H,I,J,K,L,M,N,O,P={};;){if(I=b[b.length-1],this.defaultActions[I]?J=this.defaultActions[I]:(null==G&&(G=a()),J=B[I]&&B[I][G]),"undefined"==typeof J||!J.length||!J[0]){if(!E){for(L in O=[],B[I])this.terminals_[L]&&2<L&&O.push("'"+this.terminals_[L]+"'");var v="";v=this.lexer.showPosition?"Parse error on line "+(C+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+O.join(", "):"Parse error on line "+(C+1)+": Unexpected "+(1==G?"end of input":"'"+(this.terminals_[G]||G)+"'"),this.parseError(v,{text:this.lexer.match,token:this.terminals_[G]||G,line:this.lexer.yylineno,loc:F,expected:O})}if(3==E){if(1==G)throw new Error(v||"Parsing halted.");D=this.lexer.yyleng,f=this.lexer.yytext,C=this.lexer.yylineno,F=this.lexer.yylloc,G=a()}for(;;){if(2 .toString()in B[I])break;if(0==I)throw new Error(v||"Parsing halted.");l(1),I=b[b.length-1]}H=G,G=2,I=b[b.length-1],J=B[I]&&B[I][2],E=3}if(J[0]instanceof Array&&1<J.length)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+G);switch(J[0]){case 1:b.push(G),o.push(this.lexer.yytext),t.push(this.lexer.yylloc),b.push(J[1]),G=null,H?(G=H,H=null):(D=this.lexer.yyleng,f=this.lexer.yytext,C=this.lexer.yylineno,F=this.lexer.yylloc,0<E&&E--);break;case 2:if(M=this.productions_[J[1]][1],P.$=o[o.length-M],P._$={first_line:t[t.length-(M||1)].first_line,last_line:t[t.length-1].last_line,first_column:t[t.length-(M||1)].first_column,last_column:t[t.length-1].last_column},K=this.performAction.call(P,f,D,C,this.yy,J[1],o,t),"undefined"!=typeof K)return K;M&&(b=b.slice(0,2*(-1*M)),o=o.slice(0,-1*M),t=t.slice(0,-1*M)),b.push(this.productions_[J[1]][0]),o.push(P.$),t.push(P._$),N=B[b[b.length-2]][b[b.length-1]],b.push(N);break;case 3:return!0;}}return!0}},a=function(){var b={EOF:1,parseError:function(c,a){if(this.yy.parseError)this.yy.parseError(c,a);else throw new Error(c)},setInput:function(b){return this._input=b,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var c=this._input[0];this.yytext+=c,this.yyleng++,this.match+=c,this.matched+=c;var a=c.match(/\n/);return a&&this.yylineno++,this._input=this._input.slice(1),c},unput:function(b){return this._input=b+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return 20>b.length&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var c=this.pastInput(),a=Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+a+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var c,g,h;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),e=0;e<i.length;e++)if(g=this._input.match(this.rules[i[e]]),g)return h=g[0].match(/\n.*/g),h&&(this.yylineno+=h.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:h?h[h.length-1].length-1:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],c=this.performAction.call(this,this.yy,this,i[e],this.conditionStack[this.conditionStack.length-1]),c?c:void 0;return""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"==typeof b?this.lex():b},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},performAction:function(e,a,b,c){switch(b){case 0:break;case 1:return 6;case 2:return a.yytext=a.yytext.substr(1,a.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID";}},rules:[/^\s+/,/^-?([0-9]|[1-9][0-9]+)(\.[0-9]+)?([eE][-+]?[0-9]+)?\b/,/^"(\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^\0-\x09\x0a-\x1f"\\])*"/,/^\{/,/^\}/,/^\[/,/^\]/,/^,/,/^:/,/^true\b/,/^false\b/,/^null\b/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return b}();return b.lexer=a,b}();return f.parser=b,f.parse=function(){return b.parse.apply(b,arguments)},f.main=function(a){if(!a[1])throw new Error("Usage: "+a[0]+" FILE");if("undefined"!=typeof process)var b=(!0)("fs").readFileSync((!0)("path").join(process.cwd(),a[1]),"utf8");else var c=(!0)("file").path((!0)("file").cwd()),b=c.join(a[1]).read({charset:"utf-8"});return f.parser.parse(b)},"undefined"!=typeof a&&(!0).main===a&&f.main("undefined"==typeof process?(!0)("system").args:process.argv.slice(1)),f}(),"use strict";function getType(a){return function(){return a&&a!==this}.call(a)?typeof a:{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function forEach(a,b,c){for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)}var jdd={LEFT:"left",RIGHT:"right",EQUALITY:"eq",TYPE:"type",MISSING:"missing",diffs:[],requestCount:0,findDiffs:function(a,b,c,d){a.currentPath.push("/"),c.currentPath.push("/");if(b.length<d.length)for(var e in d)d.hasOwnProperty(e)&&(b.hasOwnProperty(e)||jdd.diffs.push(jdd.generateDiff(a,jdd.generatePath(a),c,jdd.generatePath(c,"/"+e),"The right side of this object has more items than the left side",jdd.MISSING)));for(e in b)b.hasOwnProperty(e)&&(a.currentPath.push(e),d.hasOwnProperty(e)?(c.currentPath.push(e),jdd.diffVal(b[e],a,d[e],c),c.currentPath.pop()):jdd.diffs.push(jdd.generateDiff(a,jdd.generatePath(a),c,jdd.generatePath(c),"Missing property <code>"+e+"</code> from the object on the right side",jdd.MISSING)),a.currentPath.pop());for(e in a.currentPath.pop(),c.currentPath.pop(),d)d.hasOwnProperty(e)&&(b.hasOwnProperty(e)||jdd.diffs.push(jdd.generateDiff(a,jdd.generatePath(a),c,jdd.generatePath(c,e),"Missing property <code>"+e+"</code> from the object on the left side",jdd.MISSING)))},diffVal:function(a,b,c,d){"array"===getType(a)?jdd.diffArray(a,b,c,d):"object"===getType(a)?-1<["array","string","number","boolean","null"].indexOf(getType(c))?jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both types should be objects",jdd.TYPE)):jdd.findDiffs(b,a,d,c):"string"===getType(a)?"string"===getType(c)?a!==c&&jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both sides should be equal strings",jdd.EQUALITY)):jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both types should be strings",jdd.TYPE)):"number"===getType(a)?"number"===getType(c)?a!==c&&jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both sides should be equal numbers",jdd.EQUALITY)):jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both types should be numbers",jdd.TYPE)):"boolean"===getType(a)?jdd.diffBool(a,b,c,d):"null"===getType(a)&&"null"!==getType(c)&&jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both types should be nulls",jdd.TYPE))},diffArray:function(a,b,c,d){if("array"!==getType(c))return void jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both types should be arrays",jdd.TYPE));if(a.length<c.length)for(var e=a.length;e<c.length;e++)jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d,"["+e+"]"),"Missing element <code>"+e+"</code> from the array on the left side",jdd.MISSING));a.forEach(function(e,f){c.length<=f?jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b,"["+f+"]"),d,jdd.generatePath(d),"Missing element <code>"+f+"</code> from the array on the right side",jdd.MISSING)):(b.currentPath.push("/["+f+"]"),d.currentPath.push("/["+f+"]"),"array"===getType(c)&&jdd.diffVal(a[f],b,c[f],d),b.currentPath.pop(),d.currentPath.pop())})},diffBool:function(a,b,c,d){"boolean"===getType(c)?a!==c&&(a?jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"The left side is <code>true</code> and the right side is <code>false</code>",jdd.EQUALITY)):jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"The left side is <code>false</code> and the right side is <code>true</code>",jdd.EQUALITY))):jdd.diffs.push(jdd.generateDiff(b,jdd.generatePath(b),d,jdd.generatePath(d),"Both types should be booleans",jdd.TYPE))},formatAndDecorate:function(a,b){if("array"===getType(b))return void jdd.formatAndDecorateArray(a,b);jdd.startObject(a),a.currentPath.push("/");var c=jdd.getSortedProperties(b);c.forEach(function(c){a.out+=jdd.newLine(a)+jdd.getTabs(a.indent)+"\""+jdd.unescapeString(c)+"\": ",a.currentPath.push(c),a.paths.push({path:jdd.generatePath(a),line:a.line}),jdd.formatVal(b[c],a),a.currentPath.pop()}),jdd.finishObject(a),a.currentPath.pop()},formatAndDecorateArray:function(a,b){jdd.startArray(a),b.forEach(function(b,c){a.out+=jdd.newLine(a)+jdd.getTabs(a.indent),a.paths.push({path:jdd.generatePath(a,"["+c+"]"),line:a.line}),a.currentPath.push("/["+c+"]"),jdd.formatVal(b,a),a.currentPath.pop()}),jdd.finishArray(a),a.currentPath.pop()},startArray:function(a){a.indent++,a.out+="[",0===a.paths.length&&a.paths.push({path:jdd.generatePath(a),line:a.line}),0===a.indent&&a.indent++},finishArray:function(a){0===a.indent&&a.indent--,jdd.removeTrailingComma(a),a.indent--,a.out+=jdd.newLine(a)+jdd.getTabs(a.indent)+"]",a.out+=0===a.indent?jdd.newLine(a):","},startObject:function(a){a.indent++,a.out+="{",0===a.paths.length&&a.paths.push({path:jdd.generatePath(a),line:a.line}),0===a.indent&&a.indent++},finishObject:function(a){0===a.indent&&a.indent--,jdd.removeTrailingComma(a),a.indent--,a.out+=jdd.newLine(a)+jdd.getTabs(a.indent)+"}",a.out+=0===a.indent?jdd.newLine(a):","},formatVal:function(a,b){"array"===getType(a)?(b.out+="[",b.indent++,a.forEach(function(a,c){b.out+=jdd.newLine(b)+jdd.getTabs(b.indent),b.paths.push({path:jdd.generatePath(b,"["+c+"]"),line:b.line}),b.currentPath.push("/["+c+"]"),jdd.formatVal(a,b),b.currentPath.pop()}),jdd.removeTrailingComma(b),b.indent--,b.out+=jdd.newLine(b)+jdd.getTabs(b.indent)+"],"):"object"===getType(a)?jdd.formatAndDecorate(b,a):"string"===getType(a)?b.out+="\""+jdd.unescapeString(a)+"\",":"number"===getType(a)?b.out+=a+",":"boolean"===getType(a)?b.out+=a+",":"null"===getType(a)&&(b.out+="null,")},unescapeString:function(a){return a?a.replace("\\","\\\\").replace(/\"/g,"\\\"").replace(/\n/g,"\\n").replace("\b","\\b").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):a},generatePath:function(a,b){var c="";return a.currentPath.forEach(function(a){c+=a}),b&&(c+="/"+b),0===c.length?"/":c},newLine:function(a){return a.line++,"\n"},getSortedProperties:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b=b.sort(function(c,a){return c.localeCompare(a)}),b},generateDiff:function(a,b,c,d,e,f){"/"!==b&&"/"===b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),"/"!==d&&"/"===d.charAt(d.length-1)&&(d=d.substring(0,d.length-1));var g=a.paths.find(function(a){return a.path===b}),h=c.paths.find(function(a){return a.path===d});if(!g)throw"Unable to find line number for ("+e+"): "+b;if(!h)throw"Unable to find line number for ("+e+"): "+d;return{path1:g,path2:h,type:f,msg:e}},getTabs:function(a){for(var b="",c=0;c<a;c++)b+="    ";return b},removeTrailingComma:function(a){","===a.out.charAt(a.out.length-1)&&(a.out=a.out.substring(0,a.out.length-1))},createConfig:function(){return{out:"",indent:-1,currentPath:[],paths:[],line:1}},formatPRETags:function(){forEach($("pre"),function(a){var b=$("<pre class=\"codeBlock\"></pre>"),c=$("<div class=\"gutter\"></div>");b.append(c);var d=$("<div></div>");b.append(d);var e=$(a).text().split("\n");e.forEach(function(a,b){var e=$("<div class=\"codeLine line"+(b+1)+"\"></div>");c.append($("<span class=\"line-number\">"+(b+1)+".</span>"));var f=$("<span class=\"code\"></span");f.text(a),e.append(f),d.append(e)}),b.addClass($(a).attr("class")),b.attr("id",$(a).attr("id")),$(a).replaceWith(b)})},formatTextAreas:function(){forEach($("textarea"),function(a){var b=$("<div class=\"codeBlock\"></div>"),c=$("<div class=\"gutter\"></div>");b.append(c);var d=$(a).val().split("\n");d.forEach(function(a,b){c.append($("<span class=\"line-number\">"+(b+1)+".</span>"))}),$(a).replaceWith(b),b.append(a)})},handleDiffClick:function(a,b){var c=jdd.diffs.filter(function(c){return b===jdd.LEFT?a===c.path1.line:b===jdd.RIGHT?a===c.path2.line:a===c.path1.line||a===c.path2.line});$("pre.left span.code").removeClass("selected"),$("pre.right span.code").removeClass("selected"),$("ul.toolbar").text(""),c.forEach(function(a){$("pre.left div.line"+a.path1.line+" span.code").addClass("selected"),$("pre.right div.line"+a.path2.line+" span.code").addClass("selected")}),(b===jdd.LEFT||b===jdd.RIGHT)&&(jdd.currentDiff=jdd.diffs.findIndex(function(b){return b.path1.line===a})),-1===jdd.currentDiff&&(jdd.currentDiff=jdd.diffs.findIndex(function(b){return b.path2.line===a}));var d=$("<div id=\"buttons\"><div>"),e=$("<a href=\"#\" title=\"Previous difference\" id=\"prevButton\">&lt;</a>");e.addClass("disabled"),e.click(function(a){a.preventDefault(),jdd.highlightPrevDiff()}),d.append(e),d.append("<span id=\"prevNextLabel\"></span>");var f=$("<a href=\"#\" title=\"Next difference\" id=\"nextButton\">&gt;</a>");f.click(function(a){a.preventDefault(),jdd.highlightNextDiff()}),d.append(f),$("ul.toolbar").append(d),jdd.updateButtonStyles(),jdd.showDiffDetails(c)},highlightPrevDiff:function(){0<jdd.currentDiff&&(jdd.currentDiff--,jdd.highlightDiff(jdd.currentDiff),jdd.scrollToDiff(jdd.diffs[jdd.currentDiff]),jdd.updateButtonStyles())},highlightNextDiff:function(){jdd.currentDiff<jdd.diffs.length-1&&(jdd.currentDiff++,jdd.highlightDiff(jdd.currentDiff),jdd.scrollToDiff(jdd.diffs[jdd.currentDiff]),jdd.updateButtonStyles())},updateButtonStyles:function(){$("#prevButton").removeClass("disabled"),$("#nextButton").removeClass("disabled"),$("#prevNextLabel").text(jdd.currentDiff+1+" of "+jdd.diffs.length),1===jdd.currentDiff?$("#prevButton").addClass("disabled"):jdd.currentDiff===jdd.diffs.length-1&&$("#nextButton").addClass("disabled")},highlightDiff:function(a){jdd.handleDiffClick(jdd.diffs[a].path1.line,jdd.BOTH)},showDiffDetails:function(a){a.forEach(function(a){var b=$("<li></li>");b.html(a.msg),$("ul.toolbar").append(b),b.click(function(){jdd.scrollToDiff(a)})})},scrollToDiff:function(a){$("html, body").animate({scrollTop:$("pre.left div.line"+a.path1.line+" span.code").offset().top},0)},processDiffs:function(){var a=[],b=[];jdd.diffs.forEach(function(c){$("pre.left div.line"+c.path1.line+" span.code").addClass(c.type).addClass("diff"),-1===a.indexOf(c.path1.line)&&($("pre.left div.line"+c.path1.line+" span.code").click(function(){jdd.handleDiffClick(c.path1.line,jdd.LEFT)}),a.push(c.path1.line)),$("pre.right div.line"+c.path2.line+" span.code").addClass(c.type).addClass("diff"),-1===b.indexOf(c.path2.line)&&($("pre.right div.line"+c.path2.line+" span.code").click(function(){jdd.handleDiffClick(c.path2.line,jdd.RIGHT)}),b.push(c.path2.line))}),jdd.diffs=jdd.diffs.sort(function(c,a){return c.path1.line-a.path1.line})},validateInput:function(a,b){try{return jsl.parser.parse(a),b===jdd.LEFT?($("#errorLeft").text("").hide(),$("#textarealeft").removeClass("error")):($("#errorRight").text("").hide(),$("#textarearight").removeClass("error")),!0}catch(a){return b===jdd.LEFT?($("#errorLeft").text(a.message).show(),$("#textarealeft").addClass("error")):($("#errorRight").text(a.message).show(),$("#textarearight").addClass("error")),!1}},handleFiles:function(a,b){var c=new FileReader;c.onload=function(){return function(a){b===jdd.LEFT?$("#textarealeft").val(a.target.result):$("#textarearight").val(a.target.result)}}(a[0]),c.readAsText(a[0])},setupNewDiff:function(){$("div.initContainer").show(),$("div.diffcontainer").hide(),$("div.diffcontainer pre").text(""),$("ul.toolbar").text("")},generateReport:function(){var a=$("#report");if(a.text(""),0===jdd.diffs.length)return void a.append("<span>The two files were semantically  identical.</span>");var b=0,c=0,d=0;jdd.diffs.forEach(function(a){a.type===jdd.EQUALITY?c++:a.type===jdd.MISSING?d++:a.type===jdd.TYPE&&b++});var e=$("<div class=\"reportTitle\"></div>");1===jdd.diffs.length?e.text("Found "+jdd.diffs.length+" difference"):e.text("Found "+jdd.diffs.length+" differences"),a.prepend(e);var f=$("<span class=\"filterBlock\">Show:</span>");if(0<d){var g=$("<label><input id=\"showMissing\" type=\"checkbox\" name=\"checkbox\" value=\"value\" checked=\"true\"></label>");1===d?g.append(d+" missing property"):g.append(d+" missing properties"),g.children("input").click(function(){$(this).prop("checked")?$("span.code.diff.missing_off").addClass("missing").removeClass("missing_off"):$("span.code.diff.missing").addClass("missing_off").removeClass("missing")}),f.append(g)}if(0<b){var h=$("<label><input id=\"showTypes\" type=\"checkbox\" name=\"checkbox\" value=\"value\" checked=\"true\"></label>");1==b?h.append(b+" incorrect type"):h.append(b+" incorrect types"),h.children("input").click(function(){$(this).prop("checked")?$("span.code.diff.type_off").addClass("type").removeClass("type_off"):$("span.code.diff.type").addClass("type_off").removeClass("type")}),f.append(h)}if(0<c){var i=$("<label><input id=\"showEq\" type=\"checkbox\" name=\"checkbox\" value=\"value\" checked=\"true\"></label>");1===c?i.append(c+" unequal value"):i.append(c+" unequal values"),i.children("input").click(function(){$(this).prop("checked")?$("span.code.diff.eq_off").addClass("eq").removeClass("eq_off"):$("span.code.diff.eq").addClass("eq_off").removeClass("eq")}),f.append(i)}a.append(f)},compare:function(){if(0===jdd.requestCount){$("body").addClass("progress"),$("#compare").prop("disabled",!0);var a=function(a,b){return"http"===$("#"+a).val().trim().substring(0,4).toLowerCase()&&(jdd.requestCount++,$.post("proxy.php",{url:$("#"+a).val().trim()},function(c){c.error?($("#"+b).text(c.result).show(),$("#"+a).addClass("error"),$("body").removeClass("progress"),$("#compare").prop("disabled",!1)):($("#"+a).val(c.content),jdd.requestCount--,jdd.compare())},"json"),!0)};if(!a("textarealeft","errorLeft")&&!a("textarearight","errorRight")){var b=jdd.validateInput($("#textarealeft").val(),jdd.LEFT),c=jdd.validateInput($("#textarearight").val(),jdd.RIGHT);if(!b||!c)return $("body").removeClass("progress"),void $("#compare").prop("disabled",!1);$("div.initContainer").hide(),$("div.diffcontainer").show(),jdd.diffs=[];var d=JSON.parse($("#textarealeft").val()),e=JSON.parse($("#textarearight").val()),f=jdd.createConfig();jdd.formatAndDecorate(f,d),$("#out").text(f.out);var g=jdd.createConfig();jdd.formatAndDecorate(g,e),$("#out2").text(g.out),jdd.formatPRETags(),f.currentPath=[],g.currentPath=[],jdd.diffVal(d,f,e,g),jdd.processDiffs(),jdd.generateReport(),0<jdd.diffs.length&&(jdd.highlightDiff(0),jdd.currentDiff=0,jdd.updateButtonStyles()),$("body").removeClass("progress"),$("#compare").prop("disabled",!1);var h=$("#toolbar").offset().top-15;$(window).scroll(function(){h<$(window).scrollTop()?$("#toolbar").css("position","fixed").css("top","10px"):$("#toolbar").css("position","absolute").css("top","")})}}},loadSampleData:function(){$("#textarealeft").val("{\"Aidan Gillen\": {\"array\": [\"Game of Thron\\\"es\",\"The Wire\"],\"string\": \"some string\",\"int\": 2,\"aboolean\": true, \"boolean\": true,\"object\": {\"foo\": \"bar\",\"object1\": {\"new prop1\": \"new prop value\"},\"object2\": {\"new prop1\": \"new prop value\"},\"object3\": {\"new prop1\": \"new prop value\"},\"object4\": {\"new prop1\": \"new prop value\"}}},\"Amy Ryan\": {\"one\": \"In Treatment\",\"two\": \"The Wire\"},\"Annie Fitzgerald\": [\"Big Love\",\"True Blood\"],\"Anwan Glover\": [\"Treme\",\"The Wire\"],\"Alexander Skarsgard\": [\"Generation Kill\",\"True Blood\"], \"Clarke Peters\": null}"),$("#textarearight").val("{\"Aidan Gillen\": {\"array\": [\"Game of Thrones\",\"The Wire\"],\"string\": \"some string\",\"int\": \"2\",\"otherint\": 4, \"aboolean\": \"true\", \"boolean\": false,\"object\": {\"foo\": \"bar\"}},\"Amy Ryan\": [\"In Treatment\",\"The Wire\"],\"Annie Fitzgerald\": [\"True Blood\",\"Big Love\",\"The Sopranos\",\"Oz\"],\"Anwan Glover\": [\"Treme\",\"The Wire\"],\"Alexander Skarsg?rd\": [\"Generation Kill\",\"True Blood\"],\"Alice Farmer\": [\"The Corner\",\"Oz\",\"The Wire\"]}")},getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}};jQuery(document).ready(function(){$("#compare").click(function(){jdd.compare()}),jdd.getParameterByName("left")&&$("#textarealeft").val(jdd.getParameterByName("left")),jdd.getParameterByName("right")&&$("#textarearight").val(jdd.getParameterByName("right")),jdd.getParameterByName("left")&&jdd.getParameterByName("right")&&jdd.compare(),$("#sample").click(function(a){a.preventDefault(),jdd.loadSampleData()}),$(document).keydown(function(a){78===a.keyCode||39===a.keyCode?jdd.highlightNextDiff():(80===a.keyCode||37===a.keyCode)&&jdd.highlightPrevDiff()})}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(null===this)throw new TypeError("\"this\" is null or not defined");var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var d=arguments[1],e=0;e<c;){var f=b[e];if(a.call(d,f,e,b))return f;e++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(a){if(null===this)throw new TypeError("\"this\" is null or not defined");var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var d=arguments[1],e=0;e<c;){var f=b[e];if(a.call(d,f,e,b))return e;e++}return-1},configurable:!0,writable:!0});